#include <stdio.h>
#include <stdlib.h>

int main() {
    int *arr = NULL;
    int n = 0;
    int choice;

    while (1) {
        printf("\n===== MENU =====\n");
        printf("1. Nhap vao so phan tu va tung phan tu\n");
        printf("2. Hien thi cac phan tu trong mang\n");
        printf("3. Tinh do dai mang\n");
        printf("4. Tinh tong cac phan tu trong mang\n");
        printf("5. Hien thi phan tu lon nhat\n");
        printf("6. Thoat\n");
        printf("Nhap lua chon: ");
        scanf("%d", &choice);

        switch (choice) {
            case 1: {
                printf("Nhap so phan tu: ");
                scanf("%d", &n);
                arr = (int*) malloc(n * sizeof(int));

                if (arr == NULL) {
                    printf("Khong the cap phat bo nho\n");
                    return 1;
                }

                printf("Nhap tung phan tu:\n");
                for (int i = 0; i < n; i++) {
                    printf("arr[%d] = ", i);
                    scanf("%d", arr + i);
                }
                break;
            }

            case 2: {
                if (arr == NULL) {
                    printf("Mang chua duoc nhap\n");
                    break;
                }
                printf("Cac phan tu trong mang: ");
                for (int i = 0; i < n; i++) {
                    printf("%d ", *(arr + i));
                }
                printf("\n");
                break;
            }

            case 3: {
                if (arr == NULL) {
                    printf("Mang chua duoc nhap\n");
                    break;
                }
                printf("Do dai mang = %d\n", n);
                break;
            }

            case 4: {
                if (arr == NULL) {
                    printf("Mang chua duoc nhap\n");
                    break;
                }
                int sum = 0;
                for (int i = 0; i < n; i++) {
                    sum += *(arr + i);
                }
                printf("Tong cac phan tu = %d\n", sum);
                break;
            }

            case 5: {
                if (arr == NULL) {
                    printf("Mang chua duoc nhap!\n");
                    break;
                }
                int max = *arr; 
                for (int i = 1; i < n; i++) {
                    if (*(arr + i) > max)
                        max = *(arr + i);
                }
                printf("Phan tu lon nhat = %d\n", max);
                break;
            }

            case 6: {
                printf("Thoat chuong trinh...\n");
                free(arr);
                return 0;
            }

            default:
                printf("Lua chon khong hop le!\n");
        }
    }

    return 0;
}
